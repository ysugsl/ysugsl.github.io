<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Real-ESRGAN | Sober</title><meta name="author" content="ShuangLong Gong"><meta name="copyright" content="ShuangLong Gong"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Real-ESRGANReal-ESRGAN: Training Real-World Blind Super-Resolution with Pure Synthetic Data[toc] Abstract&amp;emsp;&amp;emsp;虽然盲超分辨率已经尝试了很多次，以恢复具有未知和复杂退化的低分辨率图像，但它们仍然远远无法解决一般的真实世界退化图像。在这项工作中，我们将强大的ESRGAN扩展到实际">
<meta property="og:type" content="article">
<meta property="og:title" content="Real-ESRGAN">
<meta property="og:url" content="http://example.com/2023/08/14/Real-ESRGAN/index.html">
<meta property="og:site_name" content="Sober">
<meta property="og:description" content="Real-ESRGANReal-ESRGAN: Training Real-World Blind Super-Resolution with Pure Synthetic Data[toc] Abstract&amp;emsp;&amp;emsp;虽然盲超分辨率已经尝试了很多次，以恢复具有未知和复杂退化的低分辨率图像，但它们仍然远远无法解决一般的真实世界退化图像。在这项工作中，我们将强大的ESRGAN扩展到实际">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/assets/head.jpg">
<meta property="article:published_time" content="2023-08-13T16:00:00.000Z">
<meta property="article:modified_time" content="2023-08-13T16:00:00.000Z">
<meta property="article:author" content="ShuangLong Gong">
<meta property="article:tag" content="Deep Learning; C ++">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/assets/head.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/08/14/Real-ESRGAN/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Real-ESRGAN',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-14 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友联</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Sober"><span class="site-name">Sober</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友联</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Real-ESRGAN</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-13T16:00:00.000Z" title="发表于 2023-08-14 00:00:00">2023-08-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-13T16:00:00.000Z" title="更新于 2023-08-14 00:00:00">2023-08-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%BA%E6%96%87/">论文</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>25分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Real-ESRGAN"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Real-ESRGAN"><a href="#Real-ESRGAN" class="headerlink" title="Real-ESRGAN"></a>Real-ESRGAN</h1><h1 id="Real-ESRGAN-Training-Real-World-Blind-Super-Resolution-with-Pure-Synthetic-Data"><a href="#Real-ESRGAN-Training-Real-World-Blind-Super-Resolution-with-Pure-Synthetic-Data" class="headerlink" title="Real-ESRGAN: Training Real-World Blind Super-Resolution with Pure Synthetic Data"></a>Real-ESRGAN: Training Real-World Blind Super-Resolution with Pure Synthetic Data</h1><p>[toc]<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620103043.png" alt="Img"></p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>&emsp;&emsp;虽然盲超分辨率已经尝试了很多次，以恢复具有未知和复杂退化的低分辨率图像，但它们仍然远远无法解决一般的真实世界退化图像。在这项工作中，我们将强大的ESRGAN扩展到实际的恢复应用程序（即Real-ESRGAN），它是用纯合成数据进行训练的。具体而言，引入了高阶退化建模过程，以更好地模拟复杂的真实世界退化。我们还考虑到了合成过程中常见的环绕和过冲伪影。此外，我们采用了带有频谱归一化的U-Net鉴别器，以增加鉴别器的能力并稳定训练动态。广泛的比较表明，Real-ESRGAN在各种真实数据集上的视觉表现优于先前的工作。我们还提供了高效的实现来动态合成训练对。</p>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1.Introduction"></a>1.Introduction</h2><p>&emsp;&emsp;单图像超分辨率（SR）[13、10、27]是一个活跃的研究课题，旨在从低分辨率（LR）图像重建高分辨率（HR）图像。自SRCNN [9]的开创性工作以来，深度卷积神经网络（CNN）方法在SR领域带来了繁荣的发展。然而，大多数方法[21、27、20、25、50]假设理想的双三次降采样核，这与实际退化不同。这种退化不匹配使得这些方法在实际应用中不切实际。<br>&emsp;&emsp;相反，盲超分辨率[35、2、56]旨在恢复受到未知和复杂退化的低分辨率图像。根据底层退化过程，现有方法可以粗略地分为显式建模和隐式建模两类。经典的退化模型[11、29]，包括模糊、下采样、噪声和JPEG压缩（更多细节见第3.1节），广泛应用于显式建模方法[56、16、34]中。然而，真实世界的退化通常太复杂，无法用多种退化的简单组合来建模。因此，这些方法在真实世界的样本中很容易失败。隐式建模方法[54、12、46]利用生成对抗网络（GAN）[14]进行数据分布学习以获得退化模型。然而，它们受限于训练数据集中的退化，并且无法很好地推广到分布之外的图像。读者可以参考最近的盲超分辨率综述[28]以获取更全面的分类。<br>&emsp;&emsp;在这项工作中，我们旨在通过使用更实用的退化过程合成训练对，将强大的ESRGAN [50]扩展到恢复一般真实世界的LR图像。真实的复杂退化通常来自于不同退化过程的复杂组合，例如相机成像系统、图像编辑和互联网传输。例如，当我们用手机拍照时，照片可能会有几种退化，比如相机模糊、传感器噪声、锐化伪影和JPEG压缩。然后我们进行一些编辑并上传到社交媒体应用程序，这会引入进一步的压缩和不可预测的噪声。当图像在互联网上被多次共享时，上述过程变得更加复杂。<br>&emsp;&emsp;这促使我们将经典的“一阶”退化模型扩展为 <strong>“高阶”退化建模</strong> 以适用于真实世界的退化，即使用多个重复的退化过程来建模，每个过程都是经典的退化模型。根据经验，我们采用二阶退化过程以在简单性和有效性之间取得良好平衡。最近的一项工作[55]还提出了一种随机洗牌策略来合成更实用的退化。然而，它仍然涉及固定数量的退化过程，不清楚所有洗牌的退化是否有用。相反，高阶退化建模更加灵活，试图模拟真实的退化生成过程。我们还在合成过程中加入了$sinc$滤波器以模拟<strong>常见的环绕和过冲伪影</strong>。<br>&emsp;&emsp;由于退化空间比ESRGAN大得多，训练也变得具有挑战性。具体而言，1）鉴别器需要更强大的能力来区分复杂的训练输出的真实性，同时需要更准确的梯度反馈来进行局部细节增强。因此，我们将ESRGAN中的VGG风格鉴别器改进为<strong>U-Net设计</strong>[41、52、39]。2）U-Net结构和复杂的退化也增加了训练的不稳定性。因此，我们采用<strong>谱归一化（SN）正则化</strong>[37、41]来稳定训练动态。通过这些改进，我们能够轻松训练Real-ESRGAN，并实现局部细节增强和伪影抑制的良好平衡。<br>&emsp;&emsp;总之，在这项工作中，1）我们提出了高阶退化过程来建模实际退化，并利用$sinc$滤波器来建模常见的环绕和过冲伪影。2）我们采用了几个必要的修改（例如带有谱归一化的U-Net鉴别器）来增加鉴别器的能力和稳定训练动态。3）使用纯合成数据训练的Real-ESRGAN能够恢复大多数真实世界的图像，并实现比以前的工作更好的视觉性能，使其在实际应用中更加实用。</p>
<h2 id="2-Related-Work"><a href="#2-Related-Work" class="headerlink" title="2. Related Work"></a>2. Related Work</h2><p>&emsp;&emsp;自从SRCNN [9、10]提出以来，图像超分辨率领域[21、24、45、17、25、27、58、22、44、57、7、30]已经见证了各种发展。为了实现视觉上令人满意的结果，通常使用生成对抗网络[15]作为损失监督，将解决方案推向自然流形[26、40、50、49]。大多数方法假定双三次下采样核，并且通常在真实图像中失败。最近的一些工作还将强化学习或GAN引入到图像恢复前的先验中[53、6、47]。<br>&emsp;&emsp;在盲超分辨率方面，已经有几项优秀的探索。第一类涉及显式的退化表示，通常包括两个组成部分：退化预测和条件恢复。上述两个组件可以分别[2、56]或联合（迭代）[16、34、46]执行。这些方法依赖于预定义的退化表示（例如退化类型和级别），通常考虑简单的合成退化。此外，不准确的退化估计必然会导致伪影。<br>&emsp;&emsp;另一类是尽可能接近真实数据获取&#x2F;生成训练对，然后训练一个统一的网络来解决盲超分辨率问题。训练对通常是1）通过特定相机捕获，随后进行繁琐的对齐[5、51]；2）或直接从未配对数据中学习，使用循环一致性损失[54、33]；3）或使用估计的模糊核和提取的噪声补丁进行合成[60、19]。然而，1）捕获的数据仅限于与特定相机相关的退化，因此可能不能很好地推广到其他真实图像；2）使用未配对数据学习细粒度退化是具有挑战性的，结果通常不尽人意。<br><strong>退化模型。</strong> 经典的退化模型[11、29]被广泛采用于盲超分辨率方法[56、16、34]中。然而，真实世界的退化通常过于复杂，难以明确建模。因此，隐式建模试图在网络中学习一个退化生成过程[54、12、46]。在这项工作中，我们提出了一个灵活的高阶退化模型来合成更实用的退化。</p>
<h2 id="3-Methodology"><a href="#3-Methodology" class="headerlink" title="3. Methodology"></a>3. Methodology</h2><h3 id="3-1-Classical-Degradation-Model"><a href="#3-1-Classical-Degradation-Model" class="headerlink" title="3.1. Classical Degradation Model"></a>3.1. Classical Degradation Model</h3><p>&emsp;&emsp;盲超分辨率旨在从具有未知和复杂退化的低分辨率图像中恢复高分辨率图像。通常采用经典的退化模型[11、29]来合成低分辨率输入。一般地，首先将真实图像$y$与模糊核$k$卷积，然后进行尺度因子$r$的下采样操作，得到低分辨率图像$x$并添加噪声$n$，最后还采用$JPEG$压缩，因为它在真实世界的图像中被广泛使用。<br>$$\boldsymbol x&#x3D;\mathcal D(\boldsymbol y)&#x3D;[(\boldsymbol y\otimes\boldsymbol k)\downarrow_r+\boldsymbol n]<em>{\text{JPG}},\tag{1}$$<br>其中$\mathcal D$表示退化过程。接下来，我们简要回顾这些常用的退化方式。详细设置在第4.1节中指定。更多描述和示例在附录A中。<br><strong>模糊。</strong> 我们通常将模糊退化建模为与线性模糊滤波器（核）的卷积。各向同性和各向异性的高斯滤波器是常见的选择。对于具有$2t+1$个核大小的高斯模糊核$k$，它的$(i, j) ∈ [−t, t]$元素是从高斯分布中抽样的，形式上是：<br>$$\boldsymbol{k}(i,j)&#x3D;\frac{1}{N}\exp(-\frac{1}{2}\boldsymbol{C}^T\boldsymbol{\Sigma}^{-1}\boldsymbol{C}),\quad\boldsymbol{C}&#x3D;[i,j]^T,\tag{2}$$<br>其中Σ是协方差矩阵；C是空间坐标；N是归一化常数。协方差矩阵可以进一步表示如下：<br>$$\boldsymbol\Sigma&#x3D;\boldsymbol R\begin{bmatrix}\sigma_1^2&amp;0\ 0&amp;\sigma_2^2\end{bmatrix}\boldsymbol R^T,\quad(\boldsymbol R \text{ is the rotation matrix})\tag{3}$$<br>$$&#x3D;\begin{bmatrix}cos\theta&amp;-sin\theta\ sin\theta&amp;cos\end{bmatrix}\begin{bmatrix}\sigma_1^2&amp;0\0&amp;\sigma_2^2\end{bmatrix}\begin{bmatrix}cos\theta&amp;sin\theta\-sin\theta&amp;cos\theta\end{bmatrix},\tag{4}$$<br>&emsp;&emsp;其中，$\sigma</em>{1}$和$\sigma_{2}$是两个主轴方向上的标准差（即协方差矩阵的特征值）；$\theta$是旋转角度。当$\sigma_{1}&#x3D;\sigma_{2}$时，$k$是各向同性的高斯模糊核；否则$k$是各向异性核。<br><strong>讨论。</strong> 尽管高斯模糊核被广泛用于建模模糊退化，但它们可能并不能很好地近似真实相机模糊。为了包括更多不同形状的核，我们进一步采用了广义高斯模糊核[31]和一个平台形分布。它们的概率密度函数（$pdf$）分别是$\frac{1}{N}\exp(-\frac{1}{2}(\boldsymbol{C}^{T}\boldsymbol{\Sigma}^{-1}\boldsymbol{C})^{\beta}$和$\frac{1}{N}\frac{1}{1+(\boldsymbol{C}^T\boldsymbol{\Sigma}^{-1}\boldsymbol{C})^{\beta}}$，其中$\beta$是形状参数。经验证实验发现，使用这些模糊核可以为几个真实样本产生更清晰的输出。<br><strong>噪声。</strong> &emsp;我们考虑了两种常用的噪声类型 - 1）加性高斯噪声和2）泊松噪声。加性高斯噪声的概率密度函数等于高斯分布的概率密度函数。噪声强度由高斯分布的标准差（即sigma值）控制。当RGB图像的每个通道都有独立的样本噪声时，合成的噪声是彩色噪声。我们还通过将相同的样本噪声应用于所有三个通道来合成灰色噪声[55、38]。<br>&emsp;&emsp;泊松噪声遵循泊松分布。它通常用于近似模拟由统计量子波动引起的传感器噪声，即在给定曝光水平下感应到的光子数的变化。泊松噪声强度与图像强度成正比，不同像素的噪声是独立的。<br><strong>调整大小（下采样）。</strong> &emsp;下采样是SR中合成低分辨率图像的基本操作。更一般地，我们考虑下采样和上采样，即调整大小操作。有几种大小调整算法-最近邻插值、区域调整、双线性插值和双立方插值。不同的调整大小操作带来不同的影响-一些会产生模糊的结果，而一些则可能输出带有过冲伪影的过于锐利的图像。<br>&emsp;&emsp;为了包括更多多样化和复杂的调整大小效果，我们考虑从上述选择中进行随机调整大小操作。由于最近邻插值会引入对齐问题，因此我们排除它，只考虑区域、双线性和双立方操作。<br><strong>JPEG压缩。</strong>&emsp;JPEG压缩是数字图像常用的有损压缩技术。它首先将图像转换为YCbCr颜色空间，并对色度通道进行下采样。然后将图像分成8×8块，每个块都进行二维离散余弦变换（DCT）转换，然后对DCT系数进行量化。有关JPEG压缩算法的更多细节可以在[43]中找到。JPEG压缩通常会引入令人不满的块状伪影。<br>压缩图像的质量由质量因子$q\in[0,100]$确定，其中较低的$q$表示更高的压缩比和更差的质量。我们使用PyTorch实现的DiffJPEG[32]。</p>
<h3 id="3-2-High-order-Degradation-Model"><a href="#3-2-High-order-Degradation-Model" class="headerlink" title="3.2. High-order Degradation Model"></a>3.2. High-order Degradation Model</h3><p>&emsp;&emsp;当我们采用上述经典退化模型来合成训练对时，训练出的模型确实可以处理一些真实样本。然而，它仍然无法解决现实世界中的一些复杂退化问题，特别是未知噪声和复杂伪影（见图3）。这是因为合成的低分辨率图像仍然与真实的退化图像存在很大差距。因此，我们将经典的退化模型扩展为高阶退化过程，以模拟更实际的退化。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620111042.png" alt="Img"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620111050.png" alt="Img"><br>&emsp;&emsp;经典的退化模型只包括一些基本的退化过程，可以视为一阶建模。然而，现实生活中的退化过程非常多样化，通常包括一系列程序，包括相机成像系统、图像编辑、互联网传输等。例如，当我们想要恢复从互联网下载的低质量图像时，其底层退化涉及到不同退化过程的复杂组合。具体而言，原始图像可能是多年前用手机拍摄的，必然包含着相机模糊、传感器噪声、低分辨率和JPEG压缩等退化。然后，图像被编辑了，进行了锐化和调整大小操作，引入了过冲和模糊伪影。之后，它被上传到某些社交媒体应用程序中，这引入了进一步的压缩和不可预测的噪声。由于数字传输也会带来伪影，当图像在互联网上传播多次时，这个过程变得更加复杂。<br>&emsp;&emsp;这样一个复杂的退化过程无法用经典的一阶模型来建模。因此，我们提出了一个高阶退化模型。一个$n$阶模型包含$n$个重复的退化过程（如公式5所示），其中每个退化过程采用相同的过程但不同的超参数的经典退化模型（公式1）。需要注意的是，这里的“高阶”与数学函数中使用的不同。它主要指的是相同操作的实现次数。[55]中的随机洗牌策略也可能包括重复的退化过程（例如双重模糊或JPEG），但我们强调高阶退化过程是关键，表明并非所有洗牌的退化都是必要的。为了保持图像分辨率在合理范围内，公式1中的下采样操作被替换为随机调整大小操作。根据经验，我们采用二阶退化过程，因为它可以解决大多数真实情况并保持简单性。图2描述了我们纯合成数据生成流程的整体流程。<br>$$\boldsymbol{x}&#x3D;\mathcal{D}^{n}(\boldsymbol{y})&#x3D;(\mathcal{D}<em>{n}\circ\cdots\circ\mathcal{D}</em>{2}\circ\mathcal{D}_{1})(\boldsymbol{y}).\tag{5}$$<br>值得注意的是，改进后的高阶退化过程并不完美，无法覆盖现实世界中的所有退化空间。相反，它仅通过修改数据合成过程扩展了以前盲目SR方法的可解退化边界。在图11中可以找到几个典型的限制场景。</p>
<h3 id="3-3-Ringing-and-overshoot-artifacts"><a href="#3-3-Ringing-and-overshoot-artifacts" class="headerlink" title="3.3. Ringing and overshoot artifacts"></a>3.3. Ringing and overshoot artifacts</h3><p>&emsp;&emsp;环绕伪影通常出现在图像中的锐利转换附近，看起来像边缘附近的条纹或“幽灵”。过冲伪影通常与环绕伪影结合在一起，表现为边缘转换处的跳跃增加。这些伪影的主要原因是信号没有高频带宽限制。这些伪影非常普遍，通常由锐化算法、JPEG压缩等产生。图5（顶部）显示了一些遭受环绕和过冲伪影的真实样本。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620112335.png" alt="Img"><br>&emsp;&emsp;我们使用$sinc$滤波器来合成训练对的环绕和过冲伪影。$sinc$滤波器是一种理想化的滤波器，能够截断高频信号。$sinc$滤波器的核可以表示为：<br>$\boldsymbol{k}(i,j)&#x3D;\frac{\omega_c}{2\pi\sqrt{i^2+j^2}}J_1(\omega_c\sqrt{i^2+j^2}),$其中$（i，j）$是核心坐标； $ω_c$是截止频率；$J_1$是第一类贝塞尔函数。图5（底部）显示了具有不同截止频率的$sinc$滤波器及其相应的滤波图像。观察到它能够很好地合成环绕和过冲伪影（尤其是由过度锐化效果引入的）。这些伪影在视觉上类似于图5（顶部）中前两个真实样本中的伪影。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620112349.png" alt="Img"><br>&emsp;&emsp;我们在两个地方采用$sinc$滤波器：模糊过程和合成的最后一步。最后一个$sinc$滤波器和JPEG压缩的顺序会随机交换，以涵盖更大的退化空间，因为有些图像可能首先进行过度锐化（产生过冲伪影），然后再进行JPEG压缩，而有些图像可能首先进行JPEG压缩，然后再进行锐化操作。</p>
<h3 id="3-4-Networks-and-Training"><a href="#3-4-Networks-and-Training" class="headerlink" title="3.4. Networks and Training"></a>3.4. Networks and Training</h3><p><strong>ESRGAN生成器。</strong> 我们采用与ESRGAN [50]相同的生成器（SR网络），即具有多个残差内部稠密块（RRDB）的深度网络，如图4所示。我们还将原始的×4 ESRGAN架构扩展到具有×2和×1的放大倍数。由于ESRGAN是一个复杂的网络，因此我们首先采用像素解组（像素重排的逆操作[42]）来减小空间大小并增大通道大小，然后将输入送入主要的ESRGAN架构。因此，大部分计算是在较小的分辨率空间中执行的，这可以减少GPU内存和计算资源的消耗。<br><strong>使用谱标准化（SN）的U-Net鉴别器。</strong> 由于Real-ESRGAN的目标是解决比ESRGAN更大的退化空间，因此ESRGAN中鉴别器的原始设计不再适用。具体而言，Real-ESRGAN中的鉴别器需要更强的判别能力来处理复杂的训练输出。它不仅需要区分全局风格，还需要为局部纹理提供准确的梯度反馈。受[41, 52]的启发，我们将ESRGAN中的VGG-style鉴别器改进为具有跳过连接的U-Net设计（如图6所示）。U-Net为每个像素输出真实度值，并可以为生成器提供详细的逐像素反馈。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230719093042.png" alt="Img"><br>&emsp;&emsp;与此同时，U-Net结构和复杂的退化过程也增加了训练不稳定性。我们采用谱标准化正则化[37]来稳定训练动态。此外，我们观察到谱标准化也有助于缓解GAN训练引入的过度锐化和令人烦恼的伪影。通过这些调整，我们能够轻松地训练Real-ESRGAN，并实现局部细节增强和伪影抑制的良好平衡。<br><strong>训练过程</strong> 分为两个阶段。首先，我们使用L1损失训练一个以PSNR为导向的模型。所得到的模型称为Real-ESRNet。然后，我们使用训练好的PSNR-oriented模型作为生成器的初始化，并使用L1损失、感知损失[20]和GAN损失[14, 26, 4]的组合来训练Real-ESRGAN。</p>
<h2 id="4-Experiments"><a href="#4-Experiments" class="headerlink" title="4. Experiments"></a>4. Experiments</h2><h3 id="4-1-Datasets-and-Implementation"><a href="#4-1-Datasets-and-Implementation" class="headerlink" title="4.1. Datasets and Implementation"></a>4.1. Datasets and Implementation</h3><p><strong>训练细节。</strong> &emsp;与ESRGAN类似，我们采用DIV2K [1]、Flickr2K [45]和OutdoorSceneTraining [49]数据集进行训练。训练HR块大小设置为256。我们使用四个NVIDIA V100 GPU进行训练，总批量大小为48。我们采用Adam优化器[23]。Real-ESRNet从ESRGAN进行微调以实现更快的收敛。我们使用学习率2 × 10−4对Real-ESRNet进行1000K次迭代训练，同时使用学习率1 × 10−4对Real-ESRGAN进行400K次迭代训练。我们采用指数移动平均（EMA）进行更稳定的训练和更好的性能。Real-ESRGAN使用L1损失、感知损失和GAN损失的组合进行训练，分别采用权重{1，1，0.1}。我们使用预训练的VGG19网络[20]中的{conv1，…conv5}特征映射（带权重{0.1，0.1，1，1，1}）在激活之前作为感知损失。我们的实现基于BasicSR [48]。<br><strong>退化细节。</strong> &emsp;我们采用二阶退化模型，以取得简单和有效的平衡。除非另有说明，否则两个退化过程具有相同的设置。我们采用高斯核、广义高斯核和平台形状核，概率分别为{0.7, 0.15, 0.15}。模糊核大小从{7、9、…21}中随机选择。模糊标准差σ从[0.2, 3]中采样（对于第二个退化过程为[0.2, 1.5]）。形状参数β对于广义高斯核和平台形状核分别从[0.5, 4]和[1, 2]中采样。我们还使用sinc核，概率为0.1。我们以0.2的概率跳过第二个模糊退化过程。<br>&emsp;&emsp;我们采用高斯噪声和泊松噪声，概率为{0.5，0.5}。噪声sigma范围和泊松噪声比例分别设置为[1，30]和[0.05，3]（第二个退化过程为[1，25]和[0.05，2.5]）。灰色噪声概率设置为0.4。JPEG压缩质量因子设置为[30，95]。最终的sinc滤波器的应用概率为0.8。更多细节可以在发布的代码中找到。<br><strong>训练对池。</strong> 为了提高训练效率，所有退化过程都在PyTorch中实现，并使用CUDA加速，因此我们能够动态地合成训练对。然而，批处理限制了批次中合成退化的多样性。例如，批次中的样本不能具有不同的调整比例因子。因此，我们采用训练对池来增加批次中的退化多样性。在每次迭代中，训练样本随机从训练对池中选择，形成一个训练批次。我们在实现中将池大小设置为180。<br><strong>在训练过程中锐化真实图像。</strong> 我们进一步展示了一个训练技巧，可以在不引入可见伪影的情况下，视觉上提高图像的清晰度。一种典型的锐化图像的方法是使用后处理算法，例如非锐化掩蔽（USM）。然而，这种算法往往会引入过冲伪影。我们经验性地发现，在训练过程中对真实图像进行锐化可以实现更好的清晰度和过冲伪影抑制的平衡。我们将使用锐化的真实图像训练的模型称为Real-ESRGAN+（比较结果显示在图7中）。</p>
<h3 id="4-2-Comparisons-with-Prior-Works"><a href="#4-2-Comparisons-with-Prior-Works" class="headerlink" title="4.2. Comparisons with Prior Works"></a>4.2. Comparisons with Prior Works</h3><p>&emsp;&emsp;我们将我们的Real-ESRGAN与几种最先进的方法进行了比较，包括ESRGAN [50]、DAN [34]、CDC [51]、RealSR [19]和BSRGAN [55]。我们在几个不同的测试数据集上进行测试，包括RealSR [5]、DRealSR [51]、OST300 [49]、DPED [18]、ADE20K验证集 [59]和来自互联网的图像。由于现有的感知质量度量无法很好地反映人类在细粒度尺度上的实际感知偏好 [3]，因此我们在图7中呈现了几个代表性的视觉样本。量化结果也包含在附录B中供参考。<br>&emsp;&emsp;从图7中可以看出，我们的Real-ESRGAN在去除伪影和恢复纹理细节方面优于以前的方法。使用锐化的真实图像训练的Real-ESRGAN+可以进一步提高视觉清晰度。具体而言，第一个样本包含过冲伪影（字母周围的白色边缘）。直接上采样将不可避免地放大这些伪影（例如，DAN和BSRGAN）。Real-ESRGAN考虑了这些常见的伪影，并使用sinc滤波器模拟它们，从而有效地去除了环绕和过冲伪影。第二个样本包含未知和复杂的退化。大多数算法无法有效消除它们，而使用二阶退化过程进行训练的Real-ESRGAN可以。Real-ESRGAN还能够为实际样本恢复更真实的纹理（例如，砖、山和树纹理），而其他方法要么无法去除退化要么添加不自然的纹理（例如，RealSR和BSRGAN）。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620114125.png" alt="Img"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620114135.png" alt="Img"></p>
<h3 id="4-3-Ablation-Studies"><a href="#4-3-Ablation-Studies" class="headerlink" title="4.3. Ablation Studies"></a>4.3. Ablation Studies</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230724093938.png" alt="Img"><br><strong>二阶退化模型。</strong> 我们对Real-ESRNet进行了去除退化的消融研究，因为它更可控，可以更好地反映退化的影响。我们用经典的退化模型替换Real-ESRNet中的二阶过程来生成训练对。如图8（顶部）所示，使用经典的一阶退化模型训练的模型无法有效去除墙上的噪声或麦田中的模糊，而Real-ESRNet可以处理这些情况。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230724094005.png" alt="Img"><br><strong>sinc滤波器。</strong> 如果在训练期间不使用sinc滤波器，恢复的结果将放大输入图像中存在的环绕和过冲伪影，如图8（底部）所示，特别是在文本和线条周围。相反，使用sinc滤波器训练的模型可以去除这些伪影。<br><strong>带SN正则化的U-Net判别器。</strong> 我们首先采用ESRGAN设置，包括VGG风格的判别器及其损失权重。然而，从图9可以看出，这个模型无法恢复详细的纹理（如砖头和灌木），甚至在灌木枝干上产生不愉快的伪影。使用U-Net设计可以改善局部细节，但会引入不自然的纹理，并增加训练不稳定性。SN正则化可以提高恢复的纹理并稳定训练动态。<br><strong>更复杂的模糊核。</strong> 我们在模糊合成中删除了广义高斯核和平台形状核。如图10所示，在一些真实样本上，该模型无法去除模糊并恢复锐利的边缘，而Real-ESRGAN可以。然而，在大多数样本上，它们的差异很小，表明广泛使用的高阶退化过程的高斯核已经可以覆盖大部分真实模糊空间。由于我们仍然可以观察到略微更好的性能，因此在Real-ESRGAN中采用这些更复杂的模糊核。</p>
<h3 id="4-4-Limitations"><a href="#4-4-Limitations" class="headerlink" title="4.4. Limitations"></a>4.4. Limitations</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230724094035.png" alt="Img"><br>&emsp;&emsp;尽管Real-ESRGAN能够恢复大多数真实世界图像，但仍存在一些限制。如图11所示，1）一些恢复的图像（尤其是建筑和室内场景）由于混叠问题产生了扭曲的线条。2）GAN训练在一些样本上引入了不愉快的伪影。3）它无法去除真实世界中超出分布的复杂退化。更糟糕的是，它可能会放大这些伪影。这些缺点对Real-ESRGAN的实际应用产生了很大的影响，需要在未来的研究中解决。</p>
<h2 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5. Conclusion"></a>5. Conclusion</h2><p>&emsp;&emsp;本文中，我们使用纯合成训练对来训练实用的Real-ESRGAN，用于真实世界的盲超分辨率问题。为了合成更实用的退化，我们提出了高阶退化过程，并采用sinc滤波器模拟常见的环绕和过冲伪影。我们还利用带有谱归一化正则化的U-Net判别器，以增加判别器的能力并稳定训练动态。使用合成数据训练的Real-ESRGAN能够为大多数真实世界图像增强细节，同时消除恼人的伪影。<br><strong>鸣谢。</strong> 本工作部分得到中国国家自然科学基金（61906184）、中国上海市科委（编号21DZ1100800和21DZ1100100）的支持。</p>
<h2 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h2><h3 id="A-Details-of-Classical-Degradation-Model"><a href="#A-Details-of-Classical-Degradation-Model" class="headerlink" title="A. Details of Classical Degradation Model"></a>A. Details of Classical Degradation Model</h3><p>&emsp;&emsp;在本节中，我们提供了经典退化模型中使用的每种退化类型的更多细节（尤其是示例）。</p>
<h4 id="A-1-Blur"><a href="#A-1-Blur" class="headerlink" title="A.1. Blur"></a>A.1. Blur</h4><p>&emsp;&emsp;各向同性和各向异性高斯滤波器是模糊核的常见选择。我们在图12中展示了几个高斯核及其相应的模糊图像。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620115610.png" alt="Img"><br>&emsp;&emsp;为了包括更多样化的核形状，我们进一步采用广义高斯模糊核[31]和一个平台形状分布。图13展示了形状参数β如何控制核形状。经验证明，包括这些模糊核可以为几个真实样本产生更清晰的输出。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620115651.png" alt="Img"></p>
<h4 id="A-2-Noise"><a href="#A-2-Noise" class="headerlink" title="A.2. Noise"></a>A.2. Noise</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620115719.png" alt="Img"><br>&emsp;&emsp;图14展示了加性高斯噪声和泊松噪声。泊松噪声的强度与图像强度成正比，并且不同像素的噪声独立于彼此。如图14所示，泊松噪声在暗区域具有较低的噪声强度。</p>
<h4 id="A-3-Resize"><a href="#A-3-Resize" class="headerlink" title="A.3. Resize"></a>A.3. Resize</h4><p>&emsp;&emsp;存在多种调整大小算法。我们比较以下调整大小操作：最近邻插值、区域调整大小、双线性插值和双三次插值。我们研究这些调整大小操作的不同效果。我们首先将一张图像按四倍比例缩小，然后将其放大到原始大小。执行不同的降采样和上采样算法，不同组合的结果如图15所示。观察到不同的调整大小操作会产生非常不同的效果-有些会产生模糊的结果，而有些则可能会输出具有过冲伪影的过度锐利的图像。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620115757.png" alt="Img"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620115811.png" alt="Img"></p>
<h4 id="A-4-JPEG-compression"><a href="#A-4-JPEG-compression" class="headerlink" title="A.4. JPEG compression"></a>A.4. JPEG compression</h4><p>&emsp;&emsp;我们使用PyTorch实现的DiffJPEG。我们观察到，DiffJPEG压缩的图像与cv2包压缩的图像略有不同。图16展示了典型的JPEG压缩伪影以及使用不同包时引起的差异。这种差异可能会产生合成和真实样本之间的额外差距。在本工作中，为了简单起见，我们仅采用DiffJPEG，并将在后续中解决这种差异问题。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230620115856.png" alt="Img"></p>
<h3 id="B-Quantitative-Comparisons"><a href="#B-Quantitative-Comparisons" class="headerlink" title="B. Quantitative Comparisons"></a>B. Quantitative Comparisons</h3><p>&emsp;&emsp;我们提供非参考图像质量评估- NIQE [36] 作为参考。需要注意的是，现有的感知质量度量无法很好地反映人类对细粒度尺度上的感知偏好[3]。<br>&emsp;&emsp;我们将我们的Real-ESRGAN与几种最先进的方法进行了比较，包括ESRGAN [50]、DAN [34]、CDC [51]、RealSR [19]和BSRGAN [55]。我们在几个不同的测试数据集上进行测试，包括RealSR [5]、DRealSR [51]、OST300 [49]、DPED [18]、ImageNet验证[8]和ADE20K验证[59]。结果如表1所示。尽管我们的Real-ESRGAN+没有为NIQE得分进行优化，但它在大多数测试数据集上仍然产生较低的NIQE得分。</p>
<h3 id="C-More-Qualitative-Comparisons"><a href="#C-More-Qualitative-Comparisons" class="headerlink" title="C. More Qualitative Comparisons"></a>C. More Qualitative Comparisons</h3><p>&emsp;&emsp;我们展示了与之前的工作的更多定性比较。如图17所示，我们的Real-ESRGAN在消除伪影和恢复纹理细节方面优于以前的方法。使用经过锐化的地面实况进行训练的Real-ESRGAN+可以进一步提高视觉清晰度。其他方法通常无法消除复杂的伪影（第一组示例）和过冲伪影（第二、三组示例），或无法为各种场景恢复逼真和自然的纹理（第四、五组示例）。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../assets/%E8%AE%BA%E6%96%87/FILES/Real-ESRGAN.md/img-20230724100831.png" alt="Img"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">ShuangLong Gong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/08/14/Real-ESRGAN/">http://example.com/2023/08/14/Real-ESRGAN/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Sober</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/assets/head.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/14/RealSRGAN/" title="RealSRGAN"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">RealSRGAN</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/14/SRGAN/" title="SRGAN"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SRGAN</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ShuangLong Gong</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ysugsl"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ysugsl" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:sober0306@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Welcome to my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Real-ESRGAN"><span class="toc-text">Real-ESRGAN</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Real-ESRGAN-Training-Real-World-Blind-Super-Resolution-with-Pure-Synthetic-Data"><span class="toc-text">Real-ESRGAN: Training Real-World Blind Super-Resolution with Pure Synthetic Data</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Abstract"><span class="toc-text">Abstract</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Introduction"><span class="toc-text">1.Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Related-Work"><span class="toc-text">2. Related Work</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Methodology"><span class="toc-text">3. Methodology</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Classical-Degradation-Model"><span class="toc-text">3.1. Classical Degradation Model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-High-order-Degradation-Model"><span class="toc-text">3.2. High-order Degradation Model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Ringing-and-overshoot-artifacts"><span class="toc-text">3.3. Ringing and overshoot artifacts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-Networks-and-Training"><span class="toc-text">3.4. Networks and Training</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Experiments"><span class="toc-text">4. Experiments</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Datasets-and-Implementation"><span class="toc-text">4.1. Datasets and Implementation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-Comparisons-with-Prior-Works"><span class="toc-text">4.2. Comparisons with Prior Works</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-Ablation-Studies"><span class="toc-text">4.3. Ablation Studies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-Limitations"><span class="toc-text">4.4. Limitations</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Conclusion"><span class="toc-text">5. Conclusion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Appendix"><span class="toc-text">Appendix</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Details-of-Classical-Degradation-Model"><span class="toc-text">A. Details of Classical Degradation Model</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A-1-Blur"><span class="toc-text">A.1. Blur</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#A-2-Noise"><span class="toc-text">A.2. Noise</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#A-3-Resize"><span class="toc-text">A.3. Resize</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#A-4-JPEG-compression"><span class="toc-text">A.4. JPEG compression</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Quantitative-Comparisons"><span class="toc-text">B. Quantitative Comparisons</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-More-Qualitative-Comparisons"><span class="toc-text">C. More Qualitative Comparisons</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/14/1-%E5%B8%B8%E7%94%A8%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4/" title="1.常用文件管理命令">1.常用文件管理命令</a><time datetime="2023-08-13T16:00:00.000Z" title="发表于 2023-08-14 00:00:00">2023-08-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/14/2-tmux-vim/" title="2.tumx &amp; vim">2.tumx &amp; vim</a><time datetime="2023-08-13T16:00:00.000Z" title="发表于 2023-08-14 00:00:00">2023-08-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/14/3-Shell%E8%AF%AD%E6%B3%95/" title="3.Shell语法">3.Shell语法</a><time datetime="2023-08-13T16:00:00.000Z" title="发表于 2023-08-14 00:00:00">2023-08-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/14/4-ssh/" title="4.ssh">4.ssh</a><time datetime="2023-08-13T16:00:00.000Z" title="发表于 2023-08-14 00:00:00">2023-08-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/14/5-Git/" title="5. Git">5. Git</a><time datetime="2023-08-13T16:00:00.000Z" title="发表于 2023-08-14 00:00:00">2023-08-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By ShuangLong Gong</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><!-- hexo injector body_end end --></body></html>